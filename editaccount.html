<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Software Management System - Edit Account</title>
    <link rel="stylesheet" href="editaccount.css">
</head>
<body>

    <header>
        <h1>Software Management System</h1>
    </header>

    <a href="client.html" class="back-button">Back</a>
    
    <form id="editAccountForm">
        <label for="full-name">Full Name:</label>
        <input type="text" id="full-name" name="full-name" placeholder="Old Full Name" required>
        <br>
        <label for="address">Address:</label>
        <input type="text" id="address" name="address" placeholder="New Address" required>
        <br>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" placeholder="name@email.com" required>
        <br>
        <button type="button" onclick="saveChanges()">Save Changes</button>
    </form>

    <script>
        function saveChanges() {
            const fullName = document.getElementById('full-name').value;
            const address = document.getElementById('address').value;
            const newEmail = document.getElementById('email').value;

            // Get existing users from local storage
            const existingUsers = JSON.parse(localStorage.getItem('users')) || [];

            // Find the current user in the existing users
            const currentUserIndex = existingUsers.findIndex(user => user.email === 'Old@email.com');

            if (currentUserIndex !== -1) {
                // Update user information
                existingUsers[currentUserIndex].fullname = fullName;
                existingUsers[currentUserIndex].address = address;
                existingUsers[currentUserIndex].email = newEmail;

                // Update local storage with the modified user information
                localStorage.setItem('users', JSON.stringify(existingUsers));

                alert('Changes saved successfully');
            } else {
                alert('User not found in local storage');
            }
        }
    </script>
</body>
</html>

